---
#Has lost all Income tests
- name: "individual lost job"
  period: 2020-08
  absolute_error_margin: 0
  input:
    persons:
      person_lost_job:
        individual_income__has_lost_job: true
  output:
    individual_income__has_lost_all_income:
      - true   # person lost job
    cerb__is_eligible:
      - true   


- name: "individual employer closed"
  period: 2020-08
  absolute_error_margin: 0
  input:
    persons:
      person_employer_closed:
        individual_income__has_employer_closed: true
  output:
    individual_income__has_lost_all_income:
      - true   # person lost job      
    cerb__is_eligible:
      - true   

      
- name: "individual self eployed no income test"
  period: 2020-08
  absolute_error_margin: 0
  input:
    persons:
      person_self_employed_no_income:
        individual_income__has_self_employee_with_no_income: true
  output:
    individual_income__has_lost_all_income:
      - true   # person lost job      
    cerb__is_eligible:
      - true   


- name: "individual unpaid leave care of child or sick"
  period: 2020-08
  absolute_error_margin: 0
  input:
    persons:
      person_on_unpaid_leave_to_care_for_child_or_sick:
        individual_income__unpaid_leave_to_care_for_child_or_sick: true
  output:
    individual_income__has_lost_all_income:
      - true   # person lost job      
    cerb__is_eligible:
      - true   


- name: "individual recent parental leave cant return to work"
  period: 2020-08
  absolute_error_margin: 0
  input:
    persons:
      person_recent_parental_leave_cant_return_to_work:
        individual_income__has_parental_recently_cant_return_to_work: true
  output:
    individual_income__has_lost_all_income:
      - true   # person lost job   
    cerb__is_eligible:
      - true   
   

- name: "individual has recent ei claim"
  period: 2020-08
  absolute_error_margin: 0
  input:
    persons:
      person_recent_ei_claim_ended:
        individual_income__has_ei_recent_claim_ended: true
  output:
    individual_income__has_lost_all_income:
      - true   # person lost job   
    cerb__is_eligible:
      - true   


- name: "individual is sick or quarantined or unpaid leave"
  period: 2020-08
  absolute_error_margin: 0
  input:
    persons:
      person_is_sick_or_quarantine_or_unpaid:
        individual_income__is_sick_or_quarantine_or_unpaid_leave: true
  output:
    individual_income__has_lost_all_income:
      - true   # person lost job  
    cerb__is_eligible:
      - true    

#has lost some income Tests

- name: "Lost Some Income - all false"
  period: 2018-08
  absolute_error_margin: 0
  input:
    persons:
        person_lost_some_income_false:
            individual_income__is_quarantined: false
            individual_income__has_hours_reduced_or_employed_lost_a_job: false
            individual_income__has_1000_or_less: false
            individual_income__is_self_employed_some_income: false
  output:
    individual_income__has_lost_some_income:
      - false
    cerb__is_eligible:
      - false


- name: "Lost Some Income - is quarantined"
  period: 2018-08
  absolute_error_margin: 0
  input:
    persons:
        person_lost_some_income_is_quarantined:
            individual_income__is_quarantined: true
            individual_income__has_hours_reduced_or_employed_lost_a_job: false
            individual_income__has_1000_or_less: false
            individual_income__is_self_employed_some_income: false
  output:
    individual_income__has_lost_some_income:
      - true
    cerb__is_eligible:
      - true

- name: "Lost Some Income - has hours reduced or lost a job"
  period: 2018-08
  absolute_error_margin: 0
  input:
    persons:
        person_lost_some_income_false:
            individual_income__is_quarantined: false
            individual_income__has_hours_reduced_or_employed_lost_a_job: true
            individual_income__has_1000_or_less: false
            individual_income__is_self_employed_some_income: false
  output:
    individual_income__has_lost_some_income:
      - true
    cerb__is_eligible:
      - true

- name: "Lost Some Income - has 1000 of less"
  period: 2018-08
  absolute_error_margin: 0
  input:
    persons:
        person_lost_some_income_false:
            individual_income__is_quarantined: false
            individual_income__has_hours_reduced_or_employed_lost_a_job: false
            individual_income__has_1000_or_less: true
            individual_income__is_self_employed_some_income: false
  output:
    individual_income__has_lost_some_income:
      - true
    cerb__is_eligible:
      - true

- name: "Lost Some Income - is self employed some income"
  period: 2018-08
  absolute_error_margin: 0
  input:
    persons:
        person_lost_some_income_false:
            individual_income__is_quarantined: false
            individual_income__has_hours_reduced_or_employed_lost_a_job: false
            individual_income__has_1000_or_less: false
            individual_income__is_self_employed_some_income: true
  output:
    individual_income__has_lost_some_income:
      - true
    cerb__is_eligible:
      - true

# Person has gross income of greater than 5K
- name: "Lost Some Income - has hours reduced or lost a job"
  period: 2018-08
  absolute_error_margin: 0
  input:
    persons:
        person_lost_some_income_false:
            individual_income__is_gross_income_over_5k: true
  output:
    cerb__is_eligible:
      - true


- name: "Some Income"
  period: 2018-08
  absolute_error_margin: 0
  input:
    persons:
        Tom:
            individual_income__is_quarantined: false
            individual_income__has_hours_reduced_or_employed_lost_a_job: false
            individual_income__has_1000_or_less: false
            individual_income__is_self_employed_some_income: false
        Vanessa:
            individual_income__is_quarantined: true
            individual_income__has_hours_reduced_or_employed_lost_a_job: false
            individual_income__has_1000_or_less: false
            individual_income__is_self_employed_some_income: false
        Melissa:
            individual_income__is_quarantined: false
            individual_income__has_hours_reduced_or_employed_lost_a_job: true
            individual_income__has_1000_or_less: true
            individual_income__is_self_employed_some_income: false
        Jordan:
            individual_income__is_quarantined: false
            individual_income__has_hours_reduced_or_employed_lost_a_job: false
            individual_income__has_1000_or_less: false
            individual_income__is_self_employed_some_income: true
        Richard:
            individual_income__is_quarantined: true
            individual_income__has_hours_reduced_or_employed_lost_a_job: true
            individual_income__has_1000_or_less: true
            individual_income__is_self_employed_some_income: true
        Gabe:
            individual_income__has_1000_or_less: false
            individual_income__is_self_employed_some_income: true
  output:
    individual_income__has_lost_some_income:
      - false
      - true
      - true
      - true
      - true
      - true
    cerb__is_eligible:
      - false   
      - true
      - true
      - true
      - true
      - true


- name: "individual income secenarios"
  period: 2020-08
  absolute_error_margin: 0
  input:
    persons:
      person_lost_job:
        individual_income__has_lost_job: true
        
      person_employer_closed:
        individual_income__has_employer_closed: true
        
      person_self_employed_no_income:
        individual_income__has_self_employee_with_no_income: true
        
      person_on_unpaid_leave_to_care_for_child_or_sick:
        individual_income__unpaid_leave_to_care_for_child_or_sick: true
        
      person_recent_parental_leave_cant_return_to_work:
        individual_income__has_parental_recently_cant_return_to_work: true
        
      person_recent_ei_claim_ended:
        individual_income__has_ei_recent_claim_ended: true  

      person_is_sick_or_quarantine_or_unpaid:
        individual_income__is_sick_or_quarantine_or_unpaid_leave: true

      person_is_being_paid:
        individual_income__has_lost_job: false
        individual_income__has_employer_closed: false
        individual_income__has_self_employee_with_no_income: false
        individual_income__unpaid_leave_to_care_for_child_or_sick: false
        individual_income__has_parental_recently_cant_return_to_work: false
        individual_income__has_ei_recent_claim_ended: false
        individual_income__is_sick_or_quarantine_or_unpaid_leave: false  
        
      #person_no_income:
        #individual_income__has_lost_all_income: true
  output:
    individual_income__has_lost_all_income:
      - true   # person lost job
      - true   # employer closed
      - true   # self employed no income
      - true   # unpaid leave for care of child or sick
      - true   # recent parental leave, can't return to work
      - true   # recent ei claim ended
      - true   # person sick or quarantined or unpaid leave
      - false  # person is being paid #
     # - true   #person provided no responses
    cerb__is_eligible:
      - true   # person lost job
      - true   # employer closed
      - true   # self employed no income
      - true   # unpaid leave for care of child or sick
      - true   # recent parental leave, can't return to work
      - true   # recent ei claim ended
      - true   # person sick or quarantined or unpaid leave
      - false  # person is being paid #
     # - true   #person provided no responses


